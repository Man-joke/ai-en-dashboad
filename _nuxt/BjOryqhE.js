import{r as h,c as D,o as B,t as N,v as P,x as e,y as C,M as T,O as V,m as E}from"./Cu3nRdIJ.js";const I={class:"chart_donut"},O={class:"chart_contents type_donut"},K={class:"text_wrap"},L=e("span",null,"얼마나",-1),W=V('<div class="chart-bar"><div class="use-word"><span class="bullet color-1"></span><p>10회 이상 방문</p></div><div class="use-word"><span class="bullet color-2"></span><p>6~9회 방문</p></div><div class="use-word"><span class="bullet color-3"></span><p>3~5회 방문</p></div><div class="use-word"><span class="bullet color-4"></span><p>1~2회 방문</p></div><div class="use-word"><span class="bullet color-5"></span><p>방문 기록 없음</p></div></div>',1),Y={__name:"Donut",props:["type","chartData"],setup(_){const{$Chart:v}=E(),o=_,i=h(null),y=D(()=>{if(o.type==="often")return"자주";if(o.type==="much")return"많이";if(o.type==="long")return"오래"}),b=h({layout:{padding:50},maintainAspectRatio:!1,plugins:{legend:{display:!1},datalabels:{display:!1}},animation:{onComplete:function(a){const s=a.chart;s.data.labels.forEach((n,t)=>{const l=s.getDatasetMeta(0).data[t];g(s,l,t)})}}});function g(a,s,n){const t=a.ctx,{x:l,y:m,startAngle:x,endAngle:w,innerRadius:M,outerRadius:S}=s,A=(M+S)/2,d=(x+w)/2,p=A*1.25,c=l+p*Math.cos(d),r=m+p*Math.sin(d);t.save();const u=a.data.datasets[0].data[n];t.fillStyle="#171717",t.font="700 1.6rem NotoSansKR",t.textBaseline="middle",t.textAlign="center";const R=u+"%";t.fillStyle="#fff",t.beginPath();let f=u/2;t.arc(c,r,f+12,0,2*Math.PI),t.fill(),t.fillStyle="#171717",t.fillText(R,c,r);const k=a.data.datasets[0];t.strokeStyle=k.borderColor[n],t.lineWidth=3,t.beginPath(),t.arc(c,r,f+12,0,2*Math.PI),t.stroke(),t.restore()}return B(()=>{new v(i.value,{data:o.chartData,options:b.value})}),(a,s)=>(N(),P("div",I,[e("div",O,[e("canvas",{ref_key:"chart",ref:i},null,512),e("div",K,[L,e("strong",null,C(T(y)),1)])]),W]))}};export{Y as _};
